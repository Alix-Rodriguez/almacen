<app-breadcrumbs [miga]="miga"></app-breadcrumbs>
<ngb-alert #selfClosingAlert *ngIf="successMessage" type={{type}} (closed)="successMessage = ''">{{ successMessage
    }}</ngb-alert>
<form [formGroup]='checkoutForm'>
    <div class="container" *ngIf="siguiente">
        <div class="row mt-4">
            <div class="col">
                <label class="form-label">Empresa:</label>
                <select formControlName="descuento_almacen" name="descuento_almacen" id="descuento_almacen"
                    class="form-select">
                    <option value="">Seleccione</option>
                    <option value={{emd.id}} *ngFor="let emd of empresa"> {{emd.nombre_empresa}} </option>
                </select>
            </div>
            <div class="col">
                <label class="form-label">Nombre:</label>
                <input type="text" placeholder="Ingrese Nombre" class="form-control" formControlName="nombre"
                    name="nombre" id="nombre">
            </div>
            <div class="col">
                <label>Tipo:</label>
                <select formControlName="tipo" name="tipo" id="tipo" class="form-select">
                    <option value="" selected>Seleccione</option>
                    <option value="1">Virtual</option>
                    <option value="2">Física</option>
                </select>
            </div>
        </div>
        <h4 class="mt-3 border-bottom border-dark">Almacen</h4>
        <div class="row mt-4">
            <div class="col">
                <label class="form-label">Calle:</label>
                <input formControlName="calle" placeholder="Ingrese La Calle" name="calle" id="calle" type="text"
                    class="form-control">
            </div>
            <div class="col">
                <label class="form-label">Número Exterior:</label>
                <input placeholder="Ingrese Número Exterior" formControlName="numero_exterior" name="numero_exterior"
                    id="numero_exterior" type="text" class="form-control">
            </div>
            <div class="col">
                <label class="form-label">Número Interno:</label>
                <input formControlName="numero_interno" placeholder="Ingrese Número Interno" name="numero_interno"
                    id="numero_interno" type="text" class="form-control">
            </div>
        </div>
        <!-- TERCERA SELECCION -->
        <div class="row mt-4">
            <div class="col">
                <label class="form-label">Delegación:</label>
                <select formControlName="delegacion_municipio" name="delegacion_municipio" id="delegacion_municipio"
                    (change)="onChange($event.target.value)" class="form-select">
                    <option value="" selected>Selecciones</option>
                    <option value={{dl.code_delegacion}} *ngFor="let dl of delegaciones"> {{dl.descripcion}} </option>
                </select>
            </div>
            <div class="col">
                <label class="form-label">Colonía:</label>
                <select formControlName="colonia" name="colonia" id="colonia" class="form-select">
                    <option value="" selected>Selecciones</option>
                    <option value={{cl.code_colonia}} *ngFor="let cl of colonias"> {{cl.descripcion}} </option>
                </select>
            </div>
            <div class="col">
                <label class="form-label">Codigo Postal</label>
                <input type="text" formControlName="cp" placeholder="Ingrese Codigo Postal" name="cp" id="cp"
                    class="form-control">
            </div>
        </div>
        <div class="row mt-3">
            <div class="col">
                <label class="form-label">Telefono:</label>
                <input type="text" formControlName="telefono" name="telefono" placeholder="Ingrese Número Telefonico"
                    id="telefono" class="form-control">
            </div>
            <div class="col">
                <label class="form-label">Email:</label>
                <input type="text" formControlName="email" name="email" placeholder="Ingrese Email" id="email"
                    class="form-control">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <input style="margin-left: 0" type="checkbox" formControlName="picking" class="form-check-input"
                    name="picking" id="picking">
                <label class="form-label">Usar misma dirección de empresa</label>
            </div>
        </div>

        <div class="d-flex justify-content-end mt-4 ml-1">

            <button (click)="siguientePagina()" type="button" class="col-2 btn btn-dark">Siguiente</button>
        </div>
    </div>
    <!-- Siguiente pagina -->
    <div class="container" *ngIf="!siguiente">
        <h4 class="mt-3">Almacen Configuración</h4>
        <div class="d-flex align-items-center mt-4">
            <label class="mr-2 form-label">Sistema</label>
            <select class="form-select col-3">
                <option value="" selected>Seleccione</option>
                <option value="1">PEPS</option>
            </select>
        </div>
        <br>
       
        
       

        

       


        <div class="d-flex justify-content-end mt-4 ml-1">
            <button (click)="Volver()" type="button" class="btn text-dark col-2 border-dark mr-2">Volver</button>
            <button [disabled]="checkoutForm.invalid" type="button" (click)="onSubmit()"
                class="col-2 btn btn-dark">Guardar</button>
        </div>
    </div>

</form>